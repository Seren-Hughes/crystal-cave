body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0; /* background behind game container */
    background-image: url('../images/cavewalls-background.png');
    filter: brightness(1.3); /* Increase brightness (1 is normal, 1.2 is slightly brighter. this could be modal settings feature - user controlled?) */
    background-position: top;
    background-size: cover;
    overflow: hidden; /* Prevents horizontal scrollbar */
}

/* ----------------------------------*/
/* --- Wrapper for game container -- */
/* ----------------------------------*/

.game-container {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    width: min(95vw, 95vh, 700px); /* Slightly larger square to crystal-grid (bat positioned in this area relative to crystal-grid container */
    height: min(95vw, 95vh, 700px);
}


/* ----------------------------------*/
/* -- Crystal cave game container -- */
/* ----------------------------------*/

.crystal-grid {
    position: relative; /* Allows absolute positioning of children (each crystal container) */
    display: flex;
    flex-direction: column;
    justify-content: center; /* Even spacing between rows */
    gap: 1%; /* Adjust gap between rows */
    width: min(85vw, 85vh, 400px);
    height: min(85vw, 85vh, 400px); /* position: relative; */
    background-image: url('../images/cave-in-container.png');
    background-size: contain; /* Make sure the border fits inside */
    background-position: center;
    background-repeat: no-repeat;
    padding: 3%;
}

/* crystal row container */
.row {
    display: flex;
    justify-content: space-evenly;
    width: 100%;
}

/* Individual crystal container */
.crystal-container {
    width: 30%; /* Adjust crystal size */
    aspect-ratio: 1 / 1; /* Square container */
    position: relative; /* Allows absolute positioning of children (crystal images) */
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Smaller size for top row crystals to create a sense of depth */
.row:first-child .crystal-container {
    width: 25%;
    margin-top: 33%; /* Slightly move top row down */
}

.row:last-child {
    margin-bottom: 10%; /* adjust slightly nudge bottom row to align within cave walls */
}

/* All crystal images positioned inside the crystal container (game container)*/
.crystal-container img {
    position: absolute; /* Allows for stacking of images */
    width: 100%; /* Fill the container */
    height: 100%; /* Fill the container */
    object-fit: contain; /* Maintain aspect ratio */
    transition: opacity 0.3s ease-in-out; /* Smooth transition for hover effect */
}

/* Glow effect (behind the crystal) */
.glow {
    filter: brightness(2) blur(30px); /* Increase brightness and add blur - increase if needed for visual cue accessability */
    opacity: 0;
    z-index: 0; /* Behind everything */
}

/* Main crystal (default state) */
.main-crystal {
    z-index: 2;
}

/* Lighter crystal (hidden until hover) */
.light-crystal {
    opacity: 0;
    z-index: 3; /* On top of the main crystal */
}

/* Temporary hover effect - this will change to javascript and onclick event listeners */
.crystal-container:hover .glow {
    opacity: 1;
}

.crystal-container:hover .light-crystal {
    opacity: 1;
}

/* ----------------------------------------------------------------------*/

/* ----------------------------------*/
/* ----- Bat sprite animation ------ */
/* ----------------------------------*/

.bat {
    position: absolute; /* Position relative to the crystal container */
    left: -10%; /* Adjust to be just outside the crystal container */
    top: 50%;
    transform: translateY(-50%); /* Center vertically */
    width: 112px; /* Width of the bat sprite */
    height: 112px; /* Height of the bat sprite */
    background-image: url('../images/bat-sprite.png'); /* Sprite sheet */
    background-size: 224px 112px; /* Width of the sprite sheet */
    transform: translateY(-50%) scale(1.6); /* 1.3x larger */
    animation: flap 0.3s steps(2) infinite alternate; /* Quick flap effect */
    z-index: 2;
}

/* Flap animation */
@keyframes flap {
    /* First frame */
    from {
        background-position: 0 0;
    }
    /* Second frame */
    to {
        background-position: -210px 0;
    }
}

/* --------------------------------------------------------------*/

/* ----------------------------------*/
/* ----------------------------------*/
/* -- Level Number indicator ------- */
/* ----------------------------------*/
/* ----------------------------------*/


.level-indicator {
    position: absolute; /* Position relative to the crystal container */
    bottom: 60px; /* Adjust to position below the crystal container */
    left: 63%;
    transform: translateX(-50%);
    background-color: black;
    color: #91D4F2;
    font-size: 1.5rem;
    text-align: center;
    padding: 10px 20px;
    border-radius: 8px;
    width: fit-content;
    font-family: sans-serif;
    z-index: 1000; /* On top of everything */
}

/* --------------------------------------------------------------*/

/* ----------------------------------*/
/* ----------------------------------*/
/* ------- UI Buttons----------------*/
/* ----------------------------------*/
/* ----------------------------------*/

.buttons-container {
    position: fixed;
    top: 10px;
    right: 20px;
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2 buttons per row */
    grid-template-rows: repeat(5, auto); /* Automatically size rows */
    gap: 10px; /* Add space between buttons */
    padding: 10px;
    border-radius: 10px;
    justify-content: right;
}

.game-button {
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    width: 70px; /* Adjust button size - keep the width and height equal! */
    height: 70px;
}

.game-button img {
    width: 100%;
    height: auto;
    image-rendering: pixelated; /* Keeps pixel art sharp - keeps the button icons clear */
}

.game-button:hover img {
    filter: brightness(1.2); /* Lighten on hover/click */
}

/* ----------------------------------------------------------------------*/

/* ---------------------------------------*/
/*----------------------------------------*/
/* -- Media queries for responsiveness -- */
/*----------------------------------------*/
/* ---------------------------------------*/

/* media queries for responsive positioning for bat */
/* -- bat moves below the crystal container on smaller devices --*/
@media (max-width: 900px) {
    .bat {
        top: 82%;
        left: 30%;
        transform: translateX(-50%) scale(1.3);
    }
}

@media (max-width: 700px) {
    .bat {
        top: 85%;
        left: 25%;
        transform: translateX(-50%) scale(1);
    }
}

/* -- media query for rotated view (landscape) on smaller devices --*/
@media (max-height: 400px) and (orientation: landscape) {
    .bat {
        top: auto; /* Reset top position */
        left: -10%;
        transform: translateX(-50%) scale(1.2);
    }
}

/* Shrink game container to fit within landscape mobile view */
.crystal-grid {
    max-width: 75vw; /* Scale down a bit */
    max-height: 75vh; /* Reduce height to avoid address bar */
}